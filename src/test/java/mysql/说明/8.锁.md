####分类
[表锁](../pic/3.表锁.jpg)
[表锁分析](../pic/4.表锁分析.jpg)
```
加减锁：
     上锁：lock table 表名 read/write,表名2 read/write,其他；
     查看：show open tables;
     释放:unlock tables
     表锁分析[竞争状态]：show STATUS like 'table%'
        Table_locks_immediate：129  立即获取锁-状态良好
        Table_locks_waited：111      锁等待-锁竞争(越大效果越差)

操作：读(共享锁)写(排他锁)锁
粒度：
    表锁(偏读)
        偏向MyISAM引擎，开销小，加锁快，无死锁，锁粒度大，发生锁冲突的概率最高，并发度最低
        myisam的读写锁是写优先(也是myisam不适合做写为主的引擎的原因)，大量的更新会使查询很难获得锁，造成永久阻塞(淘宝的读[买家]写[卖家]分开)
              create table t1(...)engine myisam;
        MYISAM测试结果   　[读锁会阻塞写不会阻塞读，写锁会把读写都阻塞]
            手动加锁(读)
                会话1(加锁者)：能读被锁的表，不能修改(报错)[类似与redis的主从复制，复制的时候主不让写]，不能读其他表[因为锁没有释放]
                会话2(其他)：  能读被锁的表，不能修改(阻塞-读锁释放此会话获得锁后可以修改)，能读其他表
            手动加锁(写)
                会话1(加锁者)：可查看，可增删改；不能读其他表(锁未释放)
                会话2(其他)：(不能查看，不能操作--阻塞，直到锁释放)
                   
    行锁(偏写)
    
```